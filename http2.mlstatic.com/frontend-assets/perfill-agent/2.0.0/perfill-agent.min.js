var perfill=function(){"use strict";const e=()=>"fetch"in window,t=()=>"navigator"in window;var n={supportsEnvironment:()=>"undefined"!=typeof window,supportsNavigatorApi:t,supportsPerformanceApi:()=>"performance"in window,supportsBeaconOrFetch:()=>t()&&"sendBeacon"in window.navigator||e(),supportsFetchApi:e};const r={},o={};var i={subscribe:(e,t)=>{o[e]=o[e]||[],o[e].push(t),(r[e]||[]).map((e=>t(e))),delete r[e]},queue:(e,t)=>{const n=o[e]||[];n.forEach((e=>e(t))),n.length||(r[e]=r[e]||[],r[e].push(t))}},a={CLIENT_COOKIES:"client-cookies",WEB_VITALS:"web-vitals",PAGE_RENDER:"page-render",A11Y:"a11y"},c={endpoint:"https://events.mercadolibre.com/v2/perf-metric",deviceInfoMetrics:["ram-size"],connectionInfoMetrics:["network-type","network-speed","user-agent"],clientInfo:["name","version"],tags:["platform","site","application","device","webview","scope"],browserInfoMetrics:["d2id","url"]},s={endpoint:"https://events.mercadolibre.com/v2/perf-metric",deviceInfoMetrics:["ram-size"],connectionInfoMetrics:["network-type","network-speed","user-agent"],clientInfo:["name","version"],tags:["platform","site","application","device","webview","scope"],browserInfoMetrics:["d2id","url"]},u={endpoint:"https://events.mercadolibre.com/dom",deviceInfoMetrics:["ram-size"],connectionInfoMetrics:["network-type","network-speed","user-agent"],clientInfo:["name","version"],tags:["platform","site","application","device","webview","scope"],browserInfoMetrics:["d2id","url"]},l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},d=9007199254740991,p="[object Arguments]",f="[object Function]",m="[object GeneratorFunction]",v="[object Symbol]",w="object"==typeof l&&l&&l.Object===Object&&l,h="object"==typeof self&&self&&self.Object===Object&&self,g=w||h||Function("return this")();function y(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function b(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var E=Object.prototype,k=E.hasOwnProperty,T=E.toString,I=g.Symbol,M=E.propertyIsEnumerable,A=I?I.isConcatSpreadable:void 0,F=Math.max;function S(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=O),o||(o=[]);++i<a;){var c=e[i];t>0&&n(c)?t>1?S(c,t-1,n,r,o):b(o,c):r||(o[o.length]=c)}return o}function O(e){return _(e)||function(e){return function(e){return D(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?T.call(e):"";return t==f||t==m}(e)}(e)}(e)&&k.call(e,"callee")&&(!M.call(e,"callee")||T.call(e)==p)}(e)||!!(A&&e&&e[A])}function C(e){if("string"==typeof e||function(e){return"symbol"==typeof e||D(e)&&T.call(e)==v}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var _=Array.isArray;function D(e){return!!e&&"object"==typeof e}var L=function(e,t){return t=F(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=F(n.length-t,0),i=Array(o);++r<o;)i[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=i,y(e,this,a)}}((function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],c=e[a];n(c,a)&&(i[a]=c)}return i}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}(S(t,1),C))}));const{WEB_VITALS:R}=a,j=["fcp","lcp","fid","cls"],x=["fcp","lcp","cls"];var B=(e,t)=>{const n=L(t,j);if(!Object.keys(n).length)throw new Error("Metrics not found");const r=Object.keys(n);if(!x.every((e=>-1!==r.indexOf(e))))throw new Error("Metrics missing");return{name:R,data:n}};const{PAGE_RENDER:P}=a,N=["hydrate-complete","hydrate-duration"];var q=(e,t)=>{const n=L(t,N);if(!Object.keys(n).length)throw new Error("Metrics not found");return{name:P,data:n}},W={endpoint:"https://events.mercadolibre.com/v2/perf-metric",deviceInfoMetrics:["ram-size"],connectionInfoMetrics:["network-type","network-speed","user-agent"],clientInfo:["name","version"],tags:["platform","site","application","device","webview","scope"],browserInfoMetrics:["d2id","url"]};const{WEB_VITALS:z,PAGE_RENDER:G,A11Y:$}=a,Y={[z]:c,[G]:s,[$]:u,commons:W};var K={prepareConfiguration:e=>{const{platform:t,site:n,device:r,application:o,initiatives:i,scope:a}=e;if(!Array.isArray(i))return null;if(t&&n&&r&&o&&i){const e={platform:t,site:n,device:r,application:o,initiatives:i.map((e=>({...e,sent:!1})))};return a&&(e.scope=a),e}return null},getConfiguration:(e,t="commons",n=null)=>e in Y[t]?Y[t][e]:n};const{getConfiguration:V}=K,H="commons";var U={prepareTags:(e,t=H)=>({tags:L(e,V("tags",t,[]))}),prepareDeviceInfo:(e,t=H)=>({"device-info":L(e,V("deviceInfoMetrics",t,[]))}),prepareClientInfo:()=>({"client-info":{name:"perfill-agent",version:"2.0.0"}}),prepareConnectionInfo:(e,t=H)=>({"connection-info":L(e,V("connectionInfoMetrics",t,[]))}),prepareBrowserInfo:(e,t=H)=>({"browser-info":L(e,V("browserInfoMetrics",t,[]))})};const{A11Y:J}=a,{deviceInfoMetrics:X,connectionInfoMetrics:Z,browserInfoMetrics:Q}=u,{prepareTags:ee,prepareClientInfo:te}=U,ne=["window-dom","window-width","window-height"];var re=(e,t)=>{const{name:n,version:r}=te()["client-info"],{tags:o}=ee(e,J),i=L(t,[...X,...Z,...Q,...ne]);if(!Object.keys(i).length)throw new Error("Metrics not found");const a={...i,...o,client_name:n,client_version:r},c=[];return Object.keys(a).forEach((e=>{if("window-dom"!==e)c.push([e.replace("-","_"),a[e]]);else{const e=new Blob([a["window-dom"]],{type:"text/html"});c.push(["file",e,"dom.html"])}})),{name:J,data:c}};const{WEB_VITALS:oe,PAGE_RENDER:ie,A11Y:ae}=a,{prepareTags:ce,prepareDeviceInfo:se,prepareConnectionInfo:ue,prepareClientInfo:le,prepareBrowserInfo:de}=U,pe={[oe]:{builder:B},[ie]:{builder:q},[ae]:{builder:re}},fe=(e,t,n)=>{const{builder:r}=(e=>{if(e.id in pe)return pe[e.id];throw new Error("Initiative not found")})(e);return r(t,n)};var me={preparePayload:(e,t,n)=>{const r=((e,t,n)=>{try{const r=fe(e,t,n),o=ce(t);return{"event-info":{...r,...o}}}catch(e){return null}})(e,t,n);if(!r)return null;const o=le(),i=se(n),a=ue(n),c=de(n);return{...o,...r,...i,...a,...c}},prepareFormData:(e,t,n)=>{try{const{data:r}=fe(e,t,n),o=new FormData;return r.forEach((e=>{o.append(...e)})),o}catch(e){return null}}};const ve=(e,t,n=!0)=>{window.fetch(e,{method:"POST",body:t,keepalive:n}).then((e=>e.text())).catch((e=>e))};var we={beaconWithFetchFallback:(e,t)=>{const n=JSON.stringify(t);window.navigator&&window.navigator.sendBeacon&&window.navigator.sendBeacon(e,n)||ve(e,n)},sendWithFetch:ve};const{WEB_VITALS:he,PAGE_RENDER:ge,A11Y:ye}=a,{endpoint:be}=c,{endpoint:Ee}=s,{endpoint:ke}=u,{preparePayload:Te,prepareFormData:Ie}=me,{beaconWithFetchFallback:Me,sendWithFetch:Ae}=we,Fe={},Se={[he]:be,[ge]:Ee,[ye]:ke};var Oe={trackMetric:(e,t)=>{Fe[e]=t},getMetricsCollected:()=>Fe,sendMetrics:(e,t,n)=>{const r=Te(e,t,n);return!!r&&(Me(Se[e.id],r),!0)},sendFormData:(e,t,n)=>{const r=Ie(e,t,n);return!!r&&(Ae(Se[e.id],r,!1),!0)}};const{trackMetric:Ce}=Oe,{supportsNavigatorApi:_e}=n;var De=()=>{_e()&&window.navigator.deviceMemory&&Ce("ram-size",`${window.navigator.deviceMemory}`)};const{trackMetric:Le}=Oe;var Re=()=>{const{navigator:e}=window;e&&(e.connection&&(e.connection.effectiveType&&Le("network-type",e.connection.effectiveType),e.connection.downlink&&Le("network-speed",`${e.connection.downlink}`)),e.userAgent&&Le("user-agent",e.userAgent))},je={t:!1,i:!1,o:3e4},xe=window,Be=xe.console,Pe=document,Ne=xe.navigator,qe=xe.performance,We=function(){return Ne.deviceMemory},ze=function(){return Ne.hardwareConcurrency},Ge=function(){return qe&&!!qe.getEntriesByType&&!!qe.now&&!!qe.mark},$e="4g",Ye=!1,Ke=function(){return!!(ze()&&ze()<=4)||!!(We()&&We()<=4)},Ve=function(e,t){switch(e){case"slow-2g":case"2g":case"3g":return!0;default:return Ke()||t}},He={u:!1},Ue=function(e){Pe.hidden&&(e(),He.u=Pe.hidden)},Je=function(e){return parseFloat(e.toFixed(4))},Xe=function(e){return"number"!=typeof e?null:Je(e/Math.pow(1024,2))},Ze=[2e3,4e3],Qe=[2500,4e3],et=[.1,.25],tt={ttfb:[200,500],fp:Ze,fcp:Ze,lcp:Qe,lcpFinal:Qe,fid:[100,300],cls:et,clsFinal:et,tbt:[300,600]},nt=function(e,t){return tt[e]?t<=tt[e][0]?"good":t<=tt[e][1]?"needsImprovement":"poor":null},rt=function(e,t,n){var r;r=function(){He.u&&e.indexOf("Final")<0||!je.analyticsTracker||je.analyticsTracker({metricName:e,data:t,eventProperties:n||{},navigatorInformation:Ne?{deviceMemory:We()||0,hardwareConcurrency:ze()||0,serviceWorkerStatus:"serviceWorker"in Ne?Ne.serviceWorker.controller?"controlled":"supported":"unsupported",isLowEndDevice:Ke(),isLowEndExperience:Ve($e,Ye)}:{},vitalsScore:nt(e,t)})},"requestIdleCallback"in xe?xe.requestIdleCallback(r,{timeout:3e3}):r()},ot=function(e,t,n){Object.keys(t).forEach((function(e){"number"==typeof t[e]&&(t[e]=Je(t[e]))})),rt(e,t,n)},it=function(e,t,n){var r=Je(e);r<=je.o&&r>=0&&rt(t,r,n)},at={},ct={value:0},st={value:0},ut={value:0},lt={value:{beacon:0,css:0,fetch:0,img:0,other:0,script:0,total:0,xmlhttprequest:0}},dt={value:0},pt=function(e){var t=e.pop();t&&!t.s&&t.value&&(ct.value+=t.value)},ft={},mt=function(e,t){try{var n=new PerformanceObserver((function(e){t(e.getEntries())}));return n.observe({type:e,buffered:!0}),n}catch(e){Be.warn("Perfume.js:",e)}return null},vt=function(e){ft[e]&&ft[e].disconnect(),delete ft[e]},wt=function(e){var t=e.pop();t&&it(t.processingStart-t.startTime,"fid",{performanceEntry:t}),vt(1),it(ut.value,"lcp"),ft[3]&&"function"==typeof ft[3].takeRecords&&ft[3].takeRecords(),it(ct.value,"cls"),setTimeout((function(){it(dt.value,"tbt"),ot("dataConsumption",lt.value)}),1e4)},ht=function(e){e.forEach((function(e){if(!("self"!==e.name||e.startTime<st.value)){var t=e.duration-50;t>0&&(dt.value+=t)}}))},gt=function(e){e.forEach((function(e){"first-paint"===e.name?it(e.startTime,"fp"):"first-contentful-paint"===e.name&&(st.value=e.startTime,it(st.value,"fcp"),ft[4]=mt("longtask",ht),vt(0))}))},yt=function(e){var t=e.pop();t&&(ut.value=t.renderTime||t.loadTime)},bt=function(e){e.forEach((function(e){e.identifier&&it(e.startTime,e.identifier)}))},Et=function(e){e.forEach((function(e){if(je.t&&ot("resourceTiming",e),e.decodedBodySize&&e.initiatorType){var t=e.decodedBodySize/1e3;lt.value[e.initiatorType]+=t,lt.value.total+=t}}))},kt=function(){ft[2]&&(it(ut.value,"lcpFinal"),vt(2)),ft[3]&&("function"==typeof ft[3].takeRecords&&ft[3].takeRecords(),it(ct.value,"clsFinal"),vt(3))},Tt=function(e){var t="usageDetails"in e?e.usageDetails:{};ot("storageEstimate",{quota:Xe(e.quota),usage:Xe(e.usage),caches:Xe(t.caches),indexedDB:Xe(t.indexedDB),serviceWorker:Xe(t.serviceWorkerRegistrations)})},It=function(){function e(e){if(void 0===e&&(e={}),this.l="6.2.0",je.analyticsTracker=e.analyticsTracker,je.t=!!e.resourceTiming,je.i=!!e.elementTiming,je.o=e.maxMeasureTime||je.o,Ge()){"PerformanceObserver"in xe&&(ft[0]=mt("paint",gt),ft[1]=mt("first-input",wt),ft[2]=mt("largest-contentful-paint",yt),je.t&&mt("resource",Et),ft[3]=mt("layout-shift",pt),je.i&&mt("element",bt)),void 0!==Pe.hidden&&Pe.addEventListener("visibilitychange",Ue.bind(this,kt));var t=function(){if(!Ge())return{};var e=qe.getEntriesByType("navigation")[0];if(!e)return{};var t=e.responseStart,n=e.responseEnd;return{fetchTime:n-e.fetchStart,workerTime:e.workerStart>0?n-e.workerStart:0,totalTime:n-e.requestStart,downloadTime:n-t,timeToFirstByte:t-e.requestStart,headerSize:e.transferSize-e.encodedBodySize||0,dnsLookupTime:e.domainLookupEnd-e.domainLookupStart}}();ot("navigationTiming",t),t.timeToFirstByte&&it(t.timeToFirstByte,"ttfb"),ot("networkInformation",function(){if("connection"in Ne){var e=Ne.connection;return"object"!=typeof e?{}:($e=e.effectiveType,Ye=!!e.saveData,{downlink:e.downlink,effectiveType:e.effectiveType,rtt:e.rtt,saveData:!!e.saveData})}return{}}()),Ne&&Ne.storage&&"function"==typeof Ne.storage.estimate&&Ne.storage.estimate().then(Tt)}}return e.prototype.start=function(e){Ge()&&!at[e]&&(at[e]=!0,qe.mark("mark_"+e+"_start"),He.u=!1)},e.prototype.end=function(e,t){void 0===t&&(t={}),Ge()&&at[e]&&(qe.mark("mark_"+e+"_end"),delete at[e],ot(e,Je(function(e){qe.measure(e,"mark_"+e+"_start","mark_"+e+"_end");var t=qe.getEntriesByName(e).pop();return t&&"measure"===t.entryType?t.duration:-1}(e)),t))},e.prototype.endPaint=function(e,t){var n=this;setTimeout((function(){n.end(e,t)}))},e.prototype.clear=function(e){delete at[e],qe.clearMarks&&(qe.clearMarks("mark_"+e+"_start"),qe.clearMarks("mark_"+e+"_end"))},e}();const{trackMetric:Mt,sendMetrics:At,getMetricsCollected:Ft}=Oe;const{trackMetric:St}=Oe,Ot=/(?:_d2id=)([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})/;var Ct=()=>{const e=function(e){if(!e)return null;const t=e.match(Ot);return t?t[1]:t}("undefined"!=typeof document&&document.cookie);e&&St("d2id",`${e}`),"undefined"!=typeof window&&St("url",`${window.location.origin}${window.location.pathname}`)};const{prepareConfiguration:_t}=K,{supportsPerformanceApi:Dt,supportsBeaconOrFetch:Lt}=n;var Rt={start:(e,t)=>{const n=_t(e);n&&Dt()&&Lt()&&(((e,t)=>{let n=!1;new It({analyticsTracker:r=>{if(n)return;const{metricName:o,data:i}=r;"lcpFinal"===o&&Mt("lcp",i),"clsFinal"===o&&Mt("cls",i),Mt(o,i),n=At(t,e,Ft())}})})(n,t),De(),Re(),Ct())}};var jt={commands:{SET_COOKIE:"set-cookie"},endpoint:"https://events.mercadolibre.com/v2/client-cookies"};const{CLIENT_COOKIES:xt}=a,{commands:Bt,endpoint:Pt}=jt,{subscribe:Nt}=i,{beaconWithFetchFallback:qt}=we,{prepareClientInfo:Wt,prepareTags:zt}=U;let Gt=[];const $t=e=>{if(1!==e.length||!e[0])throw new Error;return e[0]},Yt={path:$t,domain:$t,expires:$t,samesite:$t,"max-age":e=>{const t=parseInt($t(e),10);if(Number.isNaN(t))throw new Error;return t},secure:e=>{if(e.length)throw new Error;return!0}},Kt=(e,t)=>{e["unknown-metadata"]=`${e["unknown-metadata"]?`${e["unknown-metadata"]};`:""}${t}`},Vt=window.requestIdleCallback||(e=>setTimeout(e,200));let Ht=!1;const Ut={[Bt.SET_COOKIE]:(e,t)=>{const n=(e=>{if(!e)return null;const t=e.split(";").reduce(((e,t,n)=>{const r=t.trim();if(!r)return e;const o=r.split("=").map((e=>e.trim())),i=o[0];if(!n)return i&&2===o.length&&(e.name=i),e;const a=i.toLowerCase(),c=Yt[a];if(c)try{e[a]=c(o.slice(1))}catch(n){Kt(e,t)}else Kt(e,t);return e}),{name:null,path:null,domain:null,"max-age":null,expires:null,samesite:null,secure:null,"unknown-metadata":null});return t.name?t:null})(e);n&&(Gt.push(n),(e=>{const t=()=>{"hidden"===window.document.visibilityState&&(qt(Pt,{...Wt(),...zt(e),cookies:Gt}),Gt=[],window.document.removeEventListener("visibilitychange",t),Ht=!1)};Ht||(window.document.addEventListener("visibilitychange",t),Ht=!0)})(t))}};var Jt=e=>{Nt(xt,(t=>{t&&Ut[t.type]&&Vt((()=>Ut[t.type](t.data,e)))}))};const{supportsBeaconOrFetch:Xt}=n;var Zt={start:e=>{Xt()&&Jt(e)}};const{PAGE_RENDER:Qt}=a,{trackMetric:en,sendMetrics:tn,getMetricsCollected:nn}=Oe,{subscribe:rn}=i,on=window.requestIdleCallback||(e=>setTimeout(e,200));let an=!1;const cn=(e,t)=>{e.forEach((e=>{en(e.metric,e.value)})),(e=>{const t=()=>{"hidden"===window.document.visibilityState&&(tn({id:Qt},e,nn()),window.document.removeEventListener("visibilitychange",t),an=!1)};an||(window.document.addEventListener("visibilitychange",t),an=!0)})(t)};var sn=e=>{rn(Qt,(t=>{t&&on((()=>cn(t,e)))}))};const{prepareConfiguration:un}=K,{supportsBeaconOrFetch:ln}=n;var dn={start:e=>{const t=un(e);t&&ln()&&(De(),Re(),sn(t),Ct())}};const pn=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],fn={STYLE:!0,IFRAME:!0,SCRIPT:!0,svg:!0,path:!0},mn={"data-hj-suppress":!0,"data-hj-suppressed":!0,"data-hj-masked":!0,"data-pii-mask":!0,"nav-header-username":!0},vn={address:!0,address1:!0,address2:!0,addressline1:!0,addressline2:!0,cell:!0,cellphone:!0,dateofbirth:!0,dob:!0,email:!0,familyname:!0,firstname:!0,fullname:!0,lastname:!0,mobile:!0,name:!0,phone:!0,postalcode:!0,postcode:!0,surname:!0,tel:!0,telephone:!0,username:!0,zip:!0,zipcode:!0,nationalinsurancenumber:!0,nin:!0,ppsn:!0,security:!0,securitynum:!0,socialsec:!0,socialsecuritynumber:!0,socsec:!0,ssn:!0,authpw:!0,contrasena:!0,contrasenya:!0,pass:!0,passord:!0,password:!0,passwort:!0,pw:!0,pwd:!0,pword:!0,pwrd:!0,sapwd:!0,senha:!0,userpw:!0,userpwd:!0,cc:!0,cccsc:!0,cccvc:!0,cccvv:!0,ccexp:!0,ccexpiry:!0,ccexpmonth:!0,ccexpyear:!0,ccname:!0,ccnum:!0,ccnumber:!0,cctype:!0,creditcard:!0,csc:!0,cvc:!0,cvv:!0,exp:!0,accountnum:!0,accountnumber:!0,bic:!0,iban:!0,ibanaccountnum:!0,ibanaccountnumber:!0,pin:!0,pinnum:!0,secq:!0,secret:!0,secretq:!0,secretquestion:!0,securityq:!0,securityquestion:!0,sortcode:!0,swift:!0},wn={A:["href"],INPUT:["value","placeholder"],TEXTAREA:["value","placeholder"],OPTION:["label","value"],PROGRESS:["value"],OPTGROUP:["label"],IMG:["alt"],DIV:["title"],DEFAULT:["textContent"]},hn=/[.*+?^${}()|[\]\\]/g,gn=e=>e.replace(hn,"\\$&"),yn=e=>{const t=[];for(let n=0;n<e;n++)t.push(pn[Math.floor(Math.random()*pn.length)]);return t.join("")},bn=new RegExp("[\\s_-]+","g"),En=/([+(]{0,2}\d[-_ ()/]{0,4}){9,}/,kn=/\d+/,Tn=/[^@\s]+@[^@\s]+\.[^@\s]+/,In=/(?:\d{1,3}\.){3}\d{1,3}/,Mn=/(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}/,An=(e,t="")=>(e=>[...e.classList||[]].some((e=>mn[e])))(e)||(e=>[e.name,e.id].map((e=>e?e.replace(bn,"").toLowerCase():e)).some((e=>vn[e])))(e)||(e=>kn.test(e))(t)||(e=>En.test(e))(t)||(e=>e.indexOf("@")>-1&&Tn.test(e))(t)||(e=>In.test(e)||Mn.test(e))(t),Fn=e=>{const t=[];return[...e].forEach((e=>{if(fn[e.tagName])return;if((e.children||[]).length>0)return;const n=[...wn.DEFAULT,...wn[e.tagName]||[]].reduce(((t,n)=>{const r=e[n],o=An(e,r);return r&&o&&t.push(r),t}),[]);n.length&&t.push({el:e.outerHTML,attrs:n})})),t},Sn=new RegExp(/[a-zA-Z0-9äÄëËïÏöÖüÜáéíóúáéíóúÁÉÍÓÚÂÊÎÔÛâêîôûàèìòùÀÈÌÒÙ.]/,"i"),On=e=>e.reduce(((e,t)=>{const n=t.el;return t.attrs.forEach((e=>{t.el=t.el.replace(e,(e=>e.startsWith("http")?"#":e.split(" ").map((e=>Sn.test(e)?yn(e.length):e)).join(" "))(e))})),e.push({original:gn(n),translated:gn(t.el)}),e}),[{original:"<iframe.*?>.*<\\/iframe>",translated:""},{original:"<noscript.*?>.*<\\/noscript>",translated:""},{original:"<script[\\s\\S]*?>[\\s\\S]*?<\\/script>",translated:""}]);var Cn={anonymizeDOM:e=>{const t=Fn(((e="*")=>document.body.querySelectorAll(e))()),n=On(t);return r=e,n.reduce(((e,t)=>e.replace(new RegExp(t.original,"g"),t.translated)),r);var r},generateRandomText:yn,shouldSuppressData:An,extractMessages:Fn,generateTranslations:On};const{A11Y:_n}=a,{trackMetric:Dn,sendFormData:Ln,getMetricsCollected:Rn}=Oe,{anonymizeDOM:jn}=Cn,xn=window.requestIdleCallback||(e=>setTimeout(e,200));let Bn=!1;const Pn=e=>{Bn||(Bn=Ln({id:_n},e,Rn()))},Nn=e=>{try{(()=>{const{document:e}=window;if(!e||!e.documentElement||!e.documentElement.outerHTML)throw new Error("DOM not found");const t=jn(e.documentElement.outerHTML);Dn("window-dom",t)})(),Pn(e)}catch(e){}};var qn=e=>{xn((()=>Nn(e)))};const{trackMetric:Wn}=Oe;var zn=()=>{const{innerWidth:e,innerHeight:t}=window;e&&Wn("window-width",`${e}`),t&&Wn("window-height",`${t}`)};const{prepareConfiguration:Gn}=K,{supportsFetchApi:$n}=n;var Yn={start:e=>{const t=Gn(e);t&&$n()&&(De(),Re(),zn(),qn(t),Ct())}};const{WEB_VITALS:Kn,CLIENT_COOKIES:Vn,PAGE_RENDER:Hn,A11Y:Un}=a;var Jn={[Kn]:Rt,[Vn]:Zt,[Hn]:dn,[Un]:Yn};const{supportsEnvironment:Xn}=n,{queue:Zn}=i,{agentKey:Qn}={agentKey:"_perfill"},er={},tr=()=>(er.initiatives||[]).forEach((e=>{e&&e.id&&Jn[e.id]&&Jn[e.id].start(er,e)})),nr=()=>{window.requestIdleCallback?window.requestIdleCallback(tr,{timeout:2e3}):setTimeout(tr,500)};let rr=!1;const or={set:(e,t)=>{er[e]=t},queue:Zn,send:e=>{e in or&&or[e]()},start:()=>{!rr&&Xn()&&(rr=!0,"complete"===window.document.readyState?nr():window.addEventListener("load",nr))}},ir=e=>{try{const t=e[0];t&&t in or&&or[t].apply(null,[].slice.call(e,1))}catch(e){}};return(()=>{const e=(window[Qn]||{}).q||[];window[Qn]=(...e)=>ir(e);try{e.forEach(ir)}catch(e){}})()}();
//# sourceMappingURL=perfill-agent.min.js.map
